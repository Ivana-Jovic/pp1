package rs.ac.bg.etf.pp1;

import rs.ac.bg.etf.pp1.ast.*;
import rs.etf.pp1.mj.runtime.Code;
import rs.etf.pp1.symboltable.Tab;

public class CodeGenerator extends VisitorAdaptor {
	
	private int mainPC;  
	
	public int getMainPc() {
		return this.mainPC;
	}
	
	
	
//	
	
	
	@Override
	public void visit(MethodTypeNameType methodName){
		Code.put(Code.enter);
	}
	
	@Override
	public void visit(MethodTypeNameVoid methodName){
		Code.put(Code.enter);
		Code.put(methodName.obj.getLevel());//b1 form param - level polje
		Code.put(methodName.obj.getLocalSymbols().size());//b2 form param plus lok
	}
	@Override
	public void visit(MethodDecl methodDecl){
		Code.put(Code.exit);
		Code.put(Code.return_);
	}
	
	 @Override
    public void visit(SingleStatementPrintNum ssPrint) {
			Code.loadConst(0);//width??
	    	Code.put(Code.print);
	}
	 @Override
    public void visit(SingleStatementPrint ssPrint) {
			Code.loadConst(0);//width??
	    	Code.put(Code.print);
	}
	 
	 @Override
    public void visit(FactorNum factor) {
    	Code.loadConst(factor.getVal());
	}
	 
}
